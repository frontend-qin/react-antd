{"version":3,"sources":["utils/request.js","utils/token.js","views/tables/index.js","api/login.js"],"names":["console","log","process","instance","axios","create","baseURL","timeout","interceptors","request","use","config","headers","localStorage","getItem","error","Promise","reject","response","res","data","code","Tables","url","method","then","react_default","a","createElement","PureComponent"],"mappings":"gLAEAA,QAAQC,IAAIC,4BAEZ,IAAMC,EAAWC,IAAMC,OAAO,CAC5BC,QAASJ,2BACTK,QAAS,MAIXJ,EAASK,aAAaC,QAAQC,IAC5B,SAAAC,GAOE,OAFEA,EAAOC,QAAQ,WCZSC,aAAaC,QAAQ,SDcxCH,GAET,SAAAI,GAGE,OAFAf,QAAQC,IAAIc,GAELC,QAAQC,OAAOF,KAI1BZ,EAASK,aAAaU,SAASR,IAC7B,SAAAQ,GACE,IAAMC,EAAMD,EAASE,KAErB,GAAiB,MAAbD,EAAIE,KACN,OAAOF,EAAIC,KAEXpB,QAAQC,IAAI,uBAIhB,SAAAc,GACE,OAAOC,QAAQC,OAAOF,KAIXZ,YExCTmB,8LCGGb,EAAQ,CACbc,IAAK,SACLC,OAAQ,QDHCC,KAAK,SAAAN,GACZnB,QAAQC,IAAIkB,sCAId,OAAOO,EAAAC,EAAAC,cAAA,wCAPUC,iBAWNP","file":"static/js/13.0b068ef3.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { getToken } from '@/utils/token'\r\nconsole.log(process.env.REACT_APP_URL)\r\n// 创建 axios 实例\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_URL,\r\n  timeout: 5000\r\n})\r\n\r\n// 请求拦截\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // 将token 配置到 请求头\r\n    // 假设一个token\r\n    const token = 'reactAdmin'\r\n    if (token) {\r\n      config.headers['X-Token'] = getToken()\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    console.log(error)\r\n    // 返回错误\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n// 响应拦截\r\ninstance.interceptors.response.use(\r\n  response => {\r\n    const res = response.data\r\n    // 请自己根据后台返回的状态码，自己修改下边的判断逻辑 you will todo...\r\n    if (res.code === 200) {\r\n      return res.data\r\n    } else {\r\n      console.log('有问题')\r\n      // 判断状态码, 提示语，自己进行弹窗 todo\r\n    }\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default instance\r\n","// set token\r\nexport const setToken = token => localStorage.setItem('Token', token)\r\n\r\n// get token\r\nexport const getToken = () => localStorage.getItem('Token')\r\n","import React, { PureComponent } from 'react'\r\nimport { myTest } from '@/api/login'\r\n\r\nclass Tables extends PureComponent {\r\n  componentDidMount() {\r\n    myTest().then(res => {\r\n      console.log(res)\r\n    })\r\n  }\r\n  render() {\r\n    return <div>练习生</div>\r\n  }\r\n}\r\n\r\nexport default Tables\r\n","import request from '@/utils/request'\r\n\r\n/**\r\n * 此函数为测试接口文件演示示例\r\n */\r\nexport function myTest() {\r\n  return request({\r\n    url: '/links',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// axios 使用 示例 post 请求\r\nexport function login(data) {\r\n  return request({\r\n    url: '',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// axios 使用 示例 get 请求\r\nexport function getExample(token) {\r\n  return request({\r\n    url: '',\r\n    method: 'get',\r\n    params: { token }\r\n  })\r\n}\r\n"],"sourceRoot":""}